
<EditForm Model="Movie" OnValidSubmit="OnSaveChanges">
    <DataAnnotationsValidator />
    <div class="form-group">
        <label>Title:</label>
        <div>
            <InputText class="form-control" @bind-Value="@Movie.Title" />
            <ValidationMessage For="@(() => Movie.Title)" />
        </div>
    </div>
    <div class="form-group">
        <label>In Theaters</label>
        <div>
            <InputCheckbox @bind-Value="Movie.InTheaters" />
            <ValidationMessage For="@(() => Movie.InTheaters)" />
        </div>
    </div>
    <div class="form-group">
        <label>Trailer:</label>
        <div>
            <InputText class="form-control" @bind-Value="@Movie.Trailer" />
            <ValidationMessage For="@(() => Movie.Trailer)" />
        </div>
    </div>
    <div class="form-group">
        <label>Release Date:</label>
        <div>
            <InputDate class="form-control" @bind-Value="@Movie.ReleaseDate" />
            <ValidationMessage For="@(() => Movie.ReleaseDate)" />
        </div>
    </div>

    <div class="form-group">
        <div>
           <InputImg ImgUrl="@ImgUrl" Label="Poster" OnSelectedImageFile="onSelectImage"/>
        </div>
    </div>
    <div class="form-group">
        <button class="btn btn-primary" type="submit">Save Changes</button>
        @DeleteButton
    </div>
</EditForm>

@code {

    [Parameter] public Movie Movie { get; set; }
    [Parameter] public EventCallback OnSaveChanges { get; set; }
    [Parameter] public RenderFragment DeleteButton { get; set; }
    [Parameter] public string ImgUrl { get; set; }

    public string ImgBase64;

    private void onSelectImage(string imgBase64)
    {
        ImgBase64 = imgBase64;
    }
}
